{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, createStaticVNode as _createStaticVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  class: \"main-wrapper\"\n};\nvar _hoisted_2 = {\n  class: \"page-wrapper\"\n};\nvar _hoisted_3 = {\n  class: \"content container-fluid\"\n};\nvar _hoisted_4 = {\n  class: \"row\"\n};\nvar _hoisted_5 = {\n  class: \"col-md-12\"\n};\nvar _hoisted_6 = {\n  class: \"card\"\n};\nvar _hoisted_7 = {\n  class: \"card-header\"\n};\nvar _hoisted_8 = {\n  class: \"card-title\"\n};\nvar _hoisted_9 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"card-body\\\"><div class=\\\"sticky-body\\\"><div id=\\\"stickies-container\\\"></div><div class=\\\"sticky-form\\\"><label for=\\\"stickytitle\\\">Sticky Title:</label><input type=\\\"text\\\" name=\\\"stickytitle\\\" id=\\\"stickytitle\\\"><label for=\\\"stickytext\\\">sticky Message:</label><textarea name=\\\"stickytext\\\" id=\\\"stickytext\\\" cols=\\\"5\\\" rows=\\\"5\\\"></textarea></div></div></div>\", 1);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_layout_header = _resolveComponent(\"layout-header\");\n  var _component_layout_sidebar = _resolveComponent(\"layout-sidebar\");\n  var _component_componentheader = _resolveComponent(\"componentheader\");\n  var _component_b_button = _resolveComponent(\"b-button\");\n  var _component_layout_footer = _resolveComponent(\"layout-footer\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Main Wrapper \"), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_layout_header), _createVNode(_component_layout_sidebar), _createCommentVNode(\" Page Wrapper \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_componentheader, {\n    title: $data.title,\n    items: $data.items\n  }, null, 8 /* PROPS */, [\"title\", \"items\"]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h5\", _hoisted_8, [_createTextVNode(\" Sticky Note\"), _createVNode(_component_b_button, {\n    variant: \"primary float-sm-end m-l-10\",\n    id: \"createsticky\"\n  }, {\n    default: _withCtx(function () {\n      return [_createTextVNode(\"Add New Note\")];\n    }),\n    _: 1 /* STABLE */\n  })])]), _hoisted_9])]), _createCommentVNode(\" Sticky \"), _createCommentVNode(\" /Sticky \")])]), _createVNode(_component_layout_footer)]), _createCommentVNode(\" /Page Wrapper \")]), _createCommentVNode(\" /Main Wrapper \")], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"mappings":";;EAEOA,KAAK,EAAC;AAAc;;EAKlBA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAyB;;EAE7BA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAa;;EAClBA,KAAK,EAAC;AAAY;;;;;;;;6DAbpCC,qCAAqB,EACrBC,oBA8CM,OA9CNC,UA8CM,GA7CJC,aAA+BC,2BAC/BD,aAAiCE,4BAEjCL,qCAAqB,EACrBC,oBAuCM,OAvCNK,UAuCM,GAtCJL,oBAoCM,OApCNM,UAoCM,GAnCJJ,aAAiDK;IAA/BC,KAAK,EAAEC,WAAK;IAAGC,KAAK,EAAED;+CACxCT,oBAiCM,OAjCNW,UAiCM,GAhCJX,oBA4BM,OA5BNY,UA4BM,GA3BJZ,oBA0BM,OA1BNa,UA0BM,GAzBJb,oBAQM,OARNc,UAQM,GAPJd,oBAMK,MANLe,UAMK,oBANkB,cACV,gBAIVC;IAHCC,OAAO,EAAC,6BAA6B;IACrCC,EAAE,EAAC;;sBACF;MAAA,OAAY,kBAAZ,cAAY;;;UAInBC,UAeM,MAGVpB,+BAAe,EAEfA,gCAAgB,MAGpBG,aAA+BkB,6BAEjCrB,sCAAsB,IAExBA,sCAAsB","names":["class","_createCommentVNode","_createElementVNode","_hoisted_1","_createVNode","_component_layout_header","_component_layout_sidebar","_hoisted_2","_hoisted_3","_component_componentheader","title","$data","items","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_component_b_button","variant","id","_hoisted_9","_component_layout_footer"],"sourceRoot":"","sources":["/home/jesus-adson/projects/erp-front/src/views/pages/uiinterface/elements/stickynote.vue"],"sourcesContent":["<template>\r\n  <!-- Main Wrapper -->\r\n  <div class=\"main-wrapper\">\r\n    <layout-header></layout-header>\r\n    <layout-sidebar></layout-sidebar>\r\n\r\n    <!-- Page Wrapper -->\r\n    <div class=\"page-wrapper\">\r\n      <div class=\"content container-fluid\">\r\n        <componentheader :title=\"title\" :items=\"items\" />\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n              <div class=\"card-header\">\r\n                <h5 class=\"card-title\">\r\n                  Sticky Note<b-button\r\n                    variant=\"primary float-sm-end m-l-10\"\r\n                    id=\"createsticky\"\r\n                    >Add New Note</b-button\r\n                  >\r\n                </h5>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <div class=\"sticky-body\">\r\n                  <div id=\"stickies-container\"></div>\r\n                  <div class=\"sticky-form\">\r\n                    <label for=\"stickytitle\">Sticky Title:</label>\r\n                    <input type=\"text\" name=\"stickytitle\" id=\"stickytitle\" />\r\n                    <label for=\"stickytext\">sticky Message:</label>\r\n                    <textarea\r\n                      name=\"stickytext\"\r\n                      id=\"stickytext\"\r\n                      cols=\"5\"\r\n                      rows=\"5\"\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- Sticky -->\r\n\r\n          <!-- /Sticky -->\r\n        </div>\r\n      </div>\r\n      <layout-footer></layout-footer>\r\n    </div>\r\n    <!-- /Page Wrapper -->\r\n  </div>\r\n  <!-- /Main Wrapper -->\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"Sticky Note\",\r\n      items: [\r\n        {\r\n          text: \"Dashboard\",\r\n          href: \"/index\",\r\n        },\r\n        {\r\n          text: \"Components\",\r\n          active: true,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    \"use strict\";\r\n    document.addEventListener(\"DOMContentLoaded\", () => {\r\n      const stickyArea = document.querySelector(\"#stickies-container\");\r\n\r\n      const createStickyButton = document.querySelector(\"#createsticky\");\r\n\r\n      const stickyTitleInput = document.querySelector(\"#stickytitle\");\r\n      const stickyTextInput = document.querySelector(\"#stickytext\");\r\n\r\n      const deleteSticky = (e) => {\r\n        e.target.parentNode.remove();\r\n      };\r\n\r\n      let isDragging = false;\r\n      let dragTarget;\r\n\r\n      let lastOffsetX = 0;\r\n      let lastOffsetY = 0;\r\n\r\n      function drag(e) {\r\n        if (!isDragging) return;\r\n\r\n        // console.log(lastOffsetX);\r\n\r\n        dragTarget.style.left = e.clientX - lastOffsetX + \"px\";\r\n        // dragTarget.style.top = e.clientY - lastOffsetY + \"px\";\r\n      }\r\n\r\n      function createSticky() {\r\n        const newSticky = document.createElement(\"div\");\r\n        const html = `<h3>${stickyTitleInput.value.replace(\r\n          /<\\/?[^>]+(>|$)/g,\r\n          \"\"\r\n        )}</h3><p>${stickyTextInput.value\r\n          .replace(/<\\/?[^>]+(>|$)/g, \"\")\r\n          .replace(\r\n            /\\r\\n|\\r|\\n/g,\r\n            \"<br />\"\r\n          )}</p><span class=\"deletesticky\">&times;</span>`;\r\n        newSticky.classList.add(\"drag\", \"sticky\");\r\n        newSticky.innerHTML = html;\r\n        // newSticky.style.backgroundColor = randomColor();\r\n        stickyArea.append(newSticky);\r\n        positionSticky(newSticky);\r\n        applyDeleteListener();\r\n        clearStickyForm();\r\n      }\r\n      function clearStickyForm() {\r\n        stickyTitleInput.value = \"\";\r\n        stickyTextInput.value = \"\";\r\n      }\r\n      function positionSticky(sticky) {\r\n        sticky.style.left =\r\n          window.innerWidth / 2 -\r\n          sticky.clientWidth / 2 +\r\n          (-100 + Math.round(Math.random() * 50)) +\r\n          \"px\";\r\n        // sticky.style.top =\r\n        //   window.innerHeight / 2 -\r\n        //   sticky.clientHeight / 2 +\r\n        //   (-100 + Math.round(Math.random() * 50)) +\r\n        //   \"px\";\r\n      }\r\n\r\n      function editSticky() {}\r\n\r\n      function stripHtml(text) {\r\n        return text.replace(/<\\/?[^>]+(>|$)/g, \"\");\r\n      }\r\n\r\n      function randomColor() {\r\n        const r = 200 + Math.floor(Math.random() * 56);\r\n        const g = 200 + Math.floor(Math.random() * 56);\r\n        const b = 200 + Math.floor(Math.random() * 56);\r\n        return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n      }\r\n\r\n      function applyDeleteListener() {\r\n        let deleteStickyButtons = document.querySelectorAll(\".deletesticky\");\r\n        deleteStickyButtons.forEach((dsb) => {\r\n          dsb.removeEventListener(\"click\", deleteSticky, false);\r\n          dsb.addEventListener(\"click\", deleteSticky);\r\n        });\r\n      }\r\n\r\n      window.addEventListener(\"mousedown\", (e) => {\r\n        if (!e.target.classList.contains(\"drag\")) {\r\n          return;\r\n        }\r\n        dragTarget = e.target;\r\n        dragTarget.parentNode.append(dragTarget);\r\n        lastOffsetX = e.offsetX;\r\n        lastOffsetY = e.offsetY;\r\n        // console.log(lastOffsetX, lastOffsetY);\r\n        isDragging = true;\r\n      });\r\n      window.addEventListener(\"mousemove\", drag);\r\n      window.addEventListener(\"mouseup\", () => (isDragging = false));\r\n\r\n      createStickyButton.addEventListener(\"click\", createSticky);\r\n      applyDeleteListener();\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.sticky-body {\r\n  position: relative;\r\n}\r\n.drag {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n.sticky {\r\n  background: #ffffff;\r\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\r\n  color: #00243f;\r\n  cursor: grab;\r\n  display: inline-block;\r\n  padding: 1rem;\r\n  position: absolute;\r\n  width: 15.5rem;\r\n}\r\n.sticky h3,\r\n.sticky p {\r\n  color: #00243f;\r\n  pointer-events: none;\r\n}\r\n.sticky h3 {\r\n  border-bottom: dashed 2px #0085e8;\r\n  margin: 0 0 1rem;\r\n  min-height: 1.8rem;\r\n  padding: 0 1.5rem 0.25rem 0;\r\n}\r\n.sticky p {\r\n  margin: 0;\r\n  min-height: 9rem;\r\n}\r\n.sticky .deletesticky {\r\n  color: #0085e8;\r\n  cursor: pointer;\r\n  font-size: 2rem;\r\n  position: absolute;\r\n  right: 0.8rem;\r\n  top: 0rem;\r\n}\r\n\r\n.sticky-form {\r\n  bottom: 1rem;\r\n}\r\n.sticky-form label,\r\n.sticky-form input,\r\n.sticky-form textarea {\r\n  color: #000;\r\n  display: block;\r\n}\r\n.sticky-form input,\r\n.sticky-form textarea {\r\n  background-color: #f0f9ff44;\r\n  background-clip: padding-box;\r\n  border: 2px dashed #0065b3;\r\n  border-radius: 0.25rem;\r\n  color: #00243f;\r\n  font-family: \"Courier New\", Courier, monospace;\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n  line-height: 1.5;\r\n  margin-bottom: 0.75rem;\r\n  padding: 0.375rem 0.75rem;\r\n  /* width: calc(100vh - 1.5rem); */\r\n  width: 300px;\r\n}\r\n.sticky-form input:focus,\r\n.sticky-form textarea:focus {\r\n  border: 2px dashed #0065b3;\r\n  background-color: #ffffff;\r\n  outline: none;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}