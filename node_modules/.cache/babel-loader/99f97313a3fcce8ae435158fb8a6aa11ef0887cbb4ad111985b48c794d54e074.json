{"ast":null,"code":"export default {\n  data: function data() {\n    return {\n      title: \"Sticky Note\",\n      items: [{\n        text: \"Dashboard\",\n        href: \"/index\"\n      }, {\n        text: \"Components\",\n        active: true\n      }]\n    };\n  },\n  mounted: function mounted() {\n    \"use strict\";\n\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      var stickyArea = document.querySelector(\"#stickies-container\");\n      var createStickyButton = document.querySelector(\"#createsticky\");\n      var stickyTitleInput = document.querySelector(\"#stickytitle\");\n      var stickyTextInput = document.querySelector(\"#stickytext\");\n      var deleteSticky = function deleteSticky(e) {\n        e.target.parentNode.remove();\n      };\n      var isDragging = false;\n      var dragTarget;\n      var lastOffsetX = 0;\n      var lastOffsetY = 0;\n      function drag(e) {\n        if (!isDragging) return;\n\n        // console.log(lastOffsetX);\n\n        dragTarget.style.left = e.clientX - lastOffsetX + \"px\";\n        // dragTarget.style.top = e.clientY - lastOffsetY + \"px\";\n      }\n\n      function createSticky() {\n        var newSticky = document.createElement(\"div\");\n        var html = \"<h3>\".concat(stickyTitleInput.value.replace(/<\\/?[^>]+(>|$)/g, \"\"), \"</h3><p>\").concat(stickyTextInput.value.replace(/<\\/?[^>]+(>|$)/g, \"\").replace(/\\r\\n|\\r|\\n/g, \"<br />\"), \"</p><span class=\\\"deletesticky\\\">&times;</span>\");\n        newSticky.classList.add(\"drag\", \"sticky\");\n        newSticky.innerHTML = html;\n        // newSticky.style.backgroundColor = randomColor();\n        stickyArea.append(newSticky);\n        positionSticky(newSticky);\n        applyDeleteListener();\n        clearStickyForm();\n      }\n      function clearStickyForm() {\n        stickyTitleInput.value = \"\";\n        stickyTextInput.value = \"\";\n      }\n      function positionSticky(sticky) {\n        sticky.style.left = window.innerWidth / 2 - sticky.clientWidth / 2 + (-100 + Math.round(Math.random() * 50)) + \"px\";\n        // sticky.style.top =\n        //   window.innerHeight / 2 -\n        //   sticky.clientHeight / 2 +\n        //   (-100 + Math.round(Math.random() * 50)) +\n        //   \"px\";\n      }\n\n      function editSticky() {}\n      function stripHtml(text) {\n        return text.replace(/<\\/?[^>]+(>|$)/g, \"\");\n      }\n      function randomColor() {\n        var r = 200 + Math.floor(Math.random() * 56);\n        var g = 200 + Math.floor(Math.random() * 56);\n        var b = 200 + Math.floor(Math.random() * 56);\n        return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n      }\n      function applyDeleteListener() {\n        var deleteStickyButtons = document.querySelectorAll(\".deletesticky\");\n        deleteStickyButtons.forEach(function (dsb) {\n          dsb.removeEventListener(\"click\", deleteSticky, false);\n          dsb.addEventListener(\"click\", deleteSticky);\n        });\n      }\n      window.addEventListener(\"mousedown\", function (e) {\n        if (!e.target.classList.contains(\"drag\")) {\n          return;\n        }\n        dragTarget = e.target;\n        dragTarget.parentNode.append(dragTarget);\n        lastOffsetX = e.offsetX;\n        lastOffsetY = e.offsetY;\n        // console.log(lastOffsetX, lastOffsetY);\n        isDragging = true;\n      });\n      window.addEventListener(\"mousemove\", drag);\n      window.addEventListener(\"mouseup\", function () {\n        return isDragging = false;\n      });\n      createStickyButton.addEventListener(\"click\", createSticky);\n      applyDeleteListener();\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["data","title","items","text","href","active","mounted","document","addEventListener","stickyArea","querySelector","createStickyButton","stickyTitleInput","stickyTextInput","deleteSticky","e","target","parentNode","remove","isDragging","dragTarget","lastOffsetX","lastOffsetY","drag","style","left","clientX","createSticky","newSticky","createElement","html","value","replace","classList","add","innerHTML","append","positionSticky","applyDeleteListener","clearStickyForm","sticky","window","innerWidth","clientWidth","Math","round","random","editSticky","stripHtml","randomColor","r","floor","g","b","deleteStickyButtons","querySelectorAll","forEach","dsb","removeEventListener","contains","offsetX","offsetY"],"sourceRoot":"","sources":["/home/jesus-adson/projects/erp-front/src/views/pages/uiinterface/elements/stickynote.vue"],"sourcesContent":["<template>\r\n  <!-- Main Wrapper -->\r\n  <div class=\"main-wrapper\">\r\n    <layout-header></layout-header>\r\n    <layout-sidebar></layout-sidebar>\r\n\r\n    <!-- Page Wrapper -->\r\n    <div class=\"page-wrapper\">\r\n      <div class=\"content container-fluid\">\r\n        <componentheader :title=\"title\" :items=\"items\" />\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n              <div class=\"card-header\">\r\n                <h5 class=\"card-title\">\r\n                  Sticky Note<b-button\r\n                    variant=\"primary float-sm-end m-l-10\"\r\n                    id=\"createsticky\"\r\n                    >Add New Note</b-button\r\n                  >\r\n                </h5>\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <div class=\"sticky-body\">\r\n                  <div id=\"stickies-container\"></div>\r\n                  <div class=\"sticky-form\">\r\n                    <label for=\"stickytitle\">Sticky Title:</label>\r\n                    <input type=\"text\" name=\"stickytitle\" id=\"stickytitle\" />\r\n                    <label for=\"stickytext\">sticky Message:</label>\r\n                    <textarea\r\n                      name=\"stickytext\"\r\n                      id=\"stickytext\"\r\n                      cols=\"5\"\r\n                      rows=\"5\"\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- Sticky -->\r\n\r\n          <!-- /Sticky -->\r\n        </div>\r\n      </div>\r\n      <layout-footer></layout-footer>\r\n    </div>\r\n    <!-- /Page Wrapper -->\r\n  </div>\r\n  <!-- /Main Wrapper -->\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"Sticky Note\",\r\n      items: [\r\n        {\r\n          text: \"Dashboard\",\r\n          href: \"/index\",\r\n        },\r\n        {\r\n          text: \"Components\",\r\n          active: true,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    \"use strict\";\r\n    document.addEventListener(\"DOMContentLoaded\", () => {\r\n      const stickyArea = document.querySelector(\"#stickies-container\");\r\n\r\n      const createStickyButton = document.querySelector(\"#createsticky\");\r\n\r\n      const stickyTitleInput = document.querySelector(\"#stickytitle\");\r\n      const stickyTextInput = document.querySelector(\"#stickytext\");\r\n\r\n      const deleteSticky = (e) => {\r\n        e.target.parentNode.remove();\r\n      };\r\n\r\n      let isDragging = false;\r\n      let dragTarget;\r\n\r\n      let lastOffsetX = 0;\r\n      let lastOffsetY = 0;\r\n\r\n      function drag(e) {\r\n        if (!isDragging) return;\r\n\r\n        // console.log(lastOffsetX);\r\n\r\n        dragTarget.style.left = e.clientX - lastOffsetX + \"px\";\r\n        // dragTarget.style.top = e.clientY - lastOffsetY + \"px\";\r\n      }\r\n\r\n      function createSticky() {\r\n        const newSticky = document.createElement(\"div\");\r\n        const html = `<h3>${stickyTitleInput.value.replace(\r\n          /<\\/?[^>]+(>|$)/g,\r\n          \"\"\r\n        )}</h3><p>${stickyTextInput.value\r\n          .replace(/<\\/?[^>]+(>|$)/g, \"\")\r\n          .replace(\r\n            /\\r\\n|\\r|\\n/g,\r\n            \"<br />\"\r\n          )}</p><span class=\"deletesticky\">&times;</span>`;\r\n        newSticky.classList.add(\"drag\", \"sticky\");\r\n        newSticky.innerHTML = html;\r\n        // newSticky.style.backgroundColor = randomColor();\r\n        stickyArea.append(newSticky);\r\n        positionSticky(newSticky);\r\n        applyDeleteListener();\r\n        clearStickyForm();\r\n      }\r\n      function clearStickyForm() {\r\n        stickyTitleInput.value = \"\";\r\n        stickyTextInput.value = \"\";\r\n      }\r\n      function positionSticky(sticky) {\r\n        sticky.style.left =\r\n          window.innerWidth / 2 -\r\n          sticky.clientWidth / 2 +\r\n          (-100 + Math.round(Math.random() * 50)) +\r\n          \"px\";\r\n        // sticky.style.top =\r\n        //   window.innerHeight / 2 -\r\n        //   sticky.clientHeight / 2 +\r\n        //   (-100 + Math.round(Math.random() * 50)) +\r\n        //   \"px\";\r\n      }\r\n\r\n      function editSticky() {}\r\n\r\n      function stripHtml(text) {\r\n        return text.replace(/<\\/?[^>]+(>|$)/g, \"\");\r\n      }\r\n\r\n      function randomColor() {\r\n        const r = 200 + Math.floor(Math.random() * 56);\r\n        const g = 200 + Math.floor(Math.random() * 56);\r\n        const b = 200 + Math.floor(Math.random() * 56);\r\n        return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n      }\r\n\r\n      function applyDeleteListener() {\r\n        let deleteStickyButtons = document.querySelectorAll(\".deletesticky\");\r\n        deleteStickyButtons.forEach((dsb) => {\r\n          dsb.removeEventListener(\"click\", deleteSticky, false);\r\n          dsb.addEventListener(\"click\", deleteSticky);\r\n        });\r\n      }\r\n\r\n      window.addEventListener(\"mousedown\", (e) => {\r\n        if (!e.target.classList.contains(\"drag\")) {\r\n          return;\r\n        }\r\n        dragTarget = e.target;\r\n        dragTarget.parentNode.append(dragTarget);\r\n        lastOffsetX = e.offsetX;\r\n        lastOffsetY = e.offsetY;\r\n        // console.log(lastOffsetX, lastOffsetY);\r\n        isDragging = true;\r\n      });\r\n      window.addEventListener(\"mousemove\", drag);\r\n      window.addEventListener(\"mouseup\", () => (isDragging = false));\r\n\r\n      createStickyButton.addEventListener(\"click\", createSticky);\r\n      applyDeleteListener();\r\n    });\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.sticky-body {\r\n  position: relative;\r\n}\r\n.drag {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n.sticky {\r\n  background: #ffffff;\r\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\r\n  color: #00243f;\r\n  cursor: grab;\r\n  display: inline-block;\r\n  padding: 1rem;\r\n  position: absolute;\r\n  width: 15.5rem;\r\n}\r\n.sticky h3,\r\n.sticky p {\r\n  color: #00243f;\r\n  pointer-events: none;\r\n}\r\n.sticky h3 {\r\n  border-bottom: dashed 2px #0085e8;\r\n  margin: 0 0 1rem;\r\n  min-height: 1.8rem;\r\n  padding: 0 1.5rem 0.25rem 0;\r\n}\r\n.sticky p {\r\n  margin: 0;\r\n  min-height: 9rem;\r\n}\r\n.sticky .deletesticky {\r\n  color: #0085e8;\r\n  cursor: pointer;\r\n  font-size: 2rem;\r\n  position: absolute;\r\n  right: 0.8rem;\r\n  top: 0rem;\r\n}\r\n\r\n.sticky-form {\r\n  bottom: 1rem;\r\n}\r\n.sticky-form label,\r\n.sticky-form input,\r\n.sticky-form textarea {\r\n  color: #000;\r\n  display: block;\r\n}\r\n.sticky-form input,\r\n.sticky-form textarea {\r\n  background-color: #f0f9ff44;\r\n  background-clip: padding-box;\r\n  border: 2px dashed #0065b3;\r\n  border-radius: 0.25rem;\r\n  color: #00243f;\r\n  font-family: \"Courier New\", Courier, monospace;\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n  line-height: 1.5;\r\n  margin-bottom: 0.75rem;\r\n  padding: 0.375rem 0.75rem;\r\n  /* width: calc(100vh - 1.5rem); */\r\n  width: 300px;\r\n}\r\n.sticky-form input:focus,\r\n.sticky-form textarea:focus {\r\n  border: 2px dashed #0065b3;\r\n  background-color: #ffffff;\r\n  outline: none;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}