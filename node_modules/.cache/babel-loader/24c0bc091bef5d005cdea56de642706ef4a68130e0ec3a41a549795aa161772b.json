{"ast":null,"code":"export default {\n  data: function data() {\n    return {\n      title: 'Sticky Note',\n      items: [{\n        text: 'Dashboard',\n        href: '/index'\n      }, {\n        text: 'Components',\n        active: true\n      }]\n    };\n  },\n  mounted: function mounted() {\n    'use strict';\n\n    document.addEventListener('DOMContentLoaded', function () {\n      var stickyArea = document.querySelector('#stickies-container');\n      var createStickyButton = document.querySelector('#createsticky');\n      var stickyTitleInput = document.querySelector('#stickytitle');\n      var stickyTextInput = document.querySelector('#stickytext');\n      var deleteSticky = function deleteSticky(e) {\n        e.target.parentNode.remove();\n      };\n      var isDragging = false;\n      var dragTarget;\n      var lastOffsetX = 0;\n      var lastOffsetY = 0;\n      function drag(e) {\n        if (!isDragging) return;\n\n        // console.log(lastOffsetX);\n\n        dragTarget.style.left = e.clientX - lastOffsetX + 'px';\n        // dragTarget.style.top = e.clientY - lastOffsetY + \"px\";\n      }\n\n      function createSticky() {\n        var newSticky = document.createElement('div');\n        var html = \"<h3>\".concat(stickyTitleInput.value.replace(/<\\/?[^>]+(>|$)/g, ''), \"</h3><p>\").concat(stickyTextInput.value.replace(/<\\/?[^>]+(>|$)/g, '').replace(/\\r\\n|\\r|\\n/g, '<br />'), \"</p><span class=\\\"deletesticky\\\">&times;</span>\");\n        newSticky.classList.add('drag', 'sticky');\n        newSticky.innerHTML = html;\n        // newSticky.style.backgroundColor = randomColor();\n        stickyArea.append(newSticky);\n        positionSticky(newSticky);\n        applyDeleteListener();\n        clearStickyForm();\n      }\n      function clearStickyForm() {\n        stickyTitleInput.value = '';\n        stickyTextInput.value = '';\n      }\n      function positionSticky(sticky) {\n        sticky.style.left = window.innerWidth / 2 - sticky.clientWidth / 2 + (-100 + Math.round(Math.random() * 50)) + 'px';\n        // sticky.style.top =\n        //   window.innerHeight / 2 -\n        //   sticky.clientHeight / 2 +\n        //   (-100 + Math.round(Math.random() * 50)) +\n        //   \"px\";\n      }\n\n      function editSticky() {}\n      function stripHtml(text) {\n        return text.replace(/<\\/?[^>]+(>|$)/g, '');\n      }\n      function randomColor() {\n        var r = 200 + Math.floor(Math.random() * 56);\n        var g = 200 + Math.floor(Math.random() * 56);\n        var b = 200 + Math.floor(Math.random() * 56);\n        return 'rgb(' + r + ',' + g + ',' + b + ')';\n      }\n      function applyDeleteListener() {\n        var deleteStickyButtons = document.querySelectorAll('.deletesticky');\n        deleteStickyButtons.forEach(function (dsb) {\n          dsb.removeEventListener('click', deleteSticky, false);\n          dsb.addEventListener('click', deleteSticky);\n        });\n      }\n      window.addEventListener('mousedown', function (e) {\n        if (!e.target.classList.contains('drag')) {\n          return;\n        }\n        dragTarget = e.target;\n        dragTarget.parentNode.append(dragTarget);\n        lastOffsetX = e.offsetX;\n        lastOffsetY = e.offsetY;\n        // console.log(lastOffsetX, lastOffsetY);\n        isDragging = true;\n      });\n      window.addEventListener('mousemove', drag);\n      window.addEventListener('mouseup', function () {\n        return isDragging = false;\n      });\n      createStickyButton.addEventListener('click', createSticky);\n      applyDeleteListener();\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["data","title","items","text","href","active","mounted","document","addEventListener","stickyArea","querySelector","createStickyButton","stickyTitleInput","stickyTextInput","deleteSticky","e","target","parentNode","remove","isDragging","dragTarget","lastOffsetX","lastOffsetY","drag","style","left","clientX","createSticky","newSticky","createElement","html","value","replace","classList","add","innerHTML","append","positionSticky","applyDeleteListener","clearStickyForm","sticky","window","innerWidth","clientWidth","Math","round","random","editSticky","stripHtml","randomColor","r","floor","g","b","deleteStickyButtons","querySelectorAll","forEach","dsb","removeEventListener","contains","offsetX","offsetY"],"sourceRoot":"","sources":["/home/jesus-adson/projects/erp-front/src/views/pages/uiinterface/elements/stickynote.vue"],"sourcesContent":["<template>\n  <!-- Main Wrapper -->\n  <div class=\"main-wrapper\">\n    <layout-header></layout-header>\n    <layout-sidebar></layout-sidebar>\n\n    <!-- Page Wrapper -->\n    <div class=\"page-wrapper\">\n      <div class=\"content container-fluid\">\n        <componentheader :title=\"title\" :items=\"items\" />\n        <div class=\"row\">\n          <div class=\"col-md-12\">\n            <div class=\"card\">\n              <div class=\"card-header\">\n                <h5 class=\"card-title\">\n                  Sticky Note<b-button\n                    variant=\"primary float-sm-end m-l-10\"\n                    id=\"createsticky\"\n                    >Add New Note</b-button\n                  >\n                </h5>\n              </div>\n              <div class=\"card-body\">\n                <div class=\"sticky-body\">\n                  <div id=\"stickies-container\"></div>\n                  <div class=\"sticky-form\">\n                    <label for=\"stickytitle\">Sticky Title:</label>\n                    <input type=\"text\" name=\"stickytitle\" id=\"stickytitle\" />\n                    <label for=\"stickytext\">sticky Message:</label>\n                    <textarea\n                      name=\"stickytext\"\n                      id=\"stickytext\"\n                      cols=\"5\"\n                      rows=\"5\"\n                    ></textarea>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- Sticky -->\n\n          <!-- /Sticky -->\n        </div>\n      </div>\n      <layout-footer></layout-footer>\n    </div>\n    <!-- /Page Wrapper -->\n  </div>\n  <!-- /Main Wrapper -->\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      title: 'Sticky Note',\n      items: [\n        {\n          text: 'Dashboard',\n          href: '/index',\n        },\n        {\n          text: 'Components',\n          active: true,\n        },\n      ],\n    };\n  },\n  mounted() {\n    'use strict';\n    document.addEventListener('DOMContentLoaded', () => {\n      const stickyArea = document.querySelector('#stickies-container');\n\n      const createStickyButton = document.querySelector('#createsticky');\n\n      const stickyTitleInput = document.querySelector('#stickytitle');\n      const stickyTextInput = document.querySelector('#stickytext');\n\n      const deleteSticky = (e) => {\n        e.target.parentNode.remove();\n      };\n\n      let isDragging = false;\n      let dragTarget;\n\n      let lastOffsetX = 0;\n      let lastOffsetY = 0;\n\n      function drag(e) {\n        if (!isDragging) return;\n\n        // console.log(lastOffsetX);\n\n        dragTarget.style.left = e.clientX - lastOffsetX + 'px';\n        // dragTarget.style.top = e.clientY - lastOffsetY + \"px\";\n      }\n\n      function createSticky() {\n        const newSticky = document.createElement('div');\n        const html = `<h3>${stickyTitleInput.value.replace(\n          /<\\/?[^>]+(>|$)/g,\n          ''\n        )}</h3><p>${stickyTextInput.value\n          .replace(/<\\/?[^>]+(>|$)/g, '')\n          .replace(\n            /\\r\\n|\\r|\\n/g,\n            '<br />'\n          )}</p><span class=\"deletesticky\">&times;</span>`;\n        newSticky.classList.add('drag', 'sticky');\n        newSticky.innerHTML = html;\n        // newSticky.style.backgroundColor = randomColor();\n        stickyArea.append(newSticky);\n        positionSticky(newSticky);\n        applyDeleteListener();\n        clearStickyForm();\n      }\n      function clearStickyForm() {\n        stickyTitleInput.value = '';\n        stickyTextInput.value = '';\n      }\n      function positionSticky(sticky) {\n        sticky.style.left =\n          window.innerWidth / 2 -\n          sticky.clientWidth / 2 +\n          (-100 + Math.round(Math.random() * 50)) +\n          'px';\n        // sticky.style.top =\n        //   window.innerHeight / 2 -\n        //   sticky.clientHeight / 2 +\n        //   (-100 + Math.round(Math.random() * 50)) +\n        //   \"px\";\n      }\n\n      function editSticky() {}\n\n      function stripHtml(text) {\n        return text.replace(/<\\/?[^>]+(>|$)/g, '');\n      }\n\n      function randomColor() {\n        const r = 200 + Math.floor(Math.random() * 56);\n        const g = 200 + Math.floor(Math.random() * 56);\n        const b = 200 + Math.floor(Math.random() * 56);\n        return 'rgb(' + r + ',' + g + ',' + b + ')';\n      }\n\n      function applyDeleteListener() {\n        let deleteStickyButtons = document.querySelectorAll('.deletesticky');\n        deleteStickyButtons.forEach((dsb) => {\n          dsb.removeEventListener('click', deleteSticky, false);\n          dsb.addEventListener('click', deleteSticky);\n        });\n      }\n\n      window.addEventListener('mousedown', (e) => {\n        if (!e.target.classList.contains('drag')) {\n          return;\n        }\n        dragTarget = e.target;\n        dragTarget.parentNode.append(dragTarget);\n        lastOffsetX = e.offsetX;\n        lastOffsetY = e.offsetY;\n        // console.log(lastOffsetX, lastOffsetY);\n        isDragging = true;\n      });\n      window.addEventListener('mousemove', drag);\n      window.addEventListener('mouseup', () => (isDragging = false));\n\n      createStickyButton.addEventListener('click', createSticky);\n      applyDeleteListener();\n    });\n  },\n};\n</script>\n<style>\n.sticky-body {\n  position: relative;\n}\n.drag {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.sticky {\n  background: #ffffff;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\n  color: #00243f;\n  cursor: grab;\n  display: inline-block;\n  padding: 1rem;\n  position: absolute;\n  width: 15.5rem;\n}\n.sticky h3,\n.sticky p {\n  color: #00243f;\n  pointer-events: none;\n}\n.sticky h3 {\n  border-bottom: dashed 2px #0085e8;\n  margin: 0 0 1rem;\n  min-height: 1.8rem;\n  padding: 0 1.5rem 0.25rem 0;\n}\n.sticky p {\n  margin: 0;\n  min-height: 9rem;\n}\n.sticky .deletesticky {\n  color: #0085e8;\n  cursor: pointer;\n  font-size: 2rem;\n  position: absolute;\n  right: 0.8rem;\n  top: 0rem;\n}\n\n.sticky-form {\n  bottom: 1rem;\n}\n.sticky-form label,\n.sticky-form input,\n.sticky-form textarea {\n  color: #000;\n  display: block;\n}\n.sticky-form input,\n.sticky-form textarea {\n  background-color: #f0f9ff44;\n  background-clip: padding-box;\n  border: 2px dashed #0065b3;\n  border-radius: 0.25rem;\n  color: #00243f;\n  font-family: 'Courier New', Courier, monospace;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  margin-bottom: 0.75rem;\n  padding: 0.375rem 0.75rem;\n  /* width: calc(100vh - 1.5rem); */\n  width: 300px;\n}\n.sticky-form input:focus,\n.sticky-form textarea:focus {\n  border: 2px dashed #0065b3;\n  background-color: #ffffff;\n  outline: none;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}