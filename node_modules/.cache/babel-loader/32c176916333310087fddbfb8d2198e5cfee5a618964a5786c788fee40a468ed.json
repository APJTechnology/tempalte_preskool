{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, withCtx as _withCtx, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  class: \"main-wrapper login-body\"\n};\nvar _hoisted_2 = {\n  class: \"login-wrapper\"\n};\nvar _hoisted_3 = {\n  class: \"container\"\n};\nvar _hoisted_4 = {\n  class: \"loginbox\"\n};\nvar _hoisted_5 = {\n  class: \"login-right\"\n};\nvar _hoisted_6 = {\n  class: \"login-right-wrap\"\n};\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"ATECH\", -1 /* HOISTED */);\nvar _hoisted_8 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Login\", -1 /* HOISTED */);\nvar _hoisted_9 = {\n  class: \"form-group\"\n};\nvar _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", null, [/*#__PURE__*/_createTextVNode(\"Usuário \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"login-danger\"\n}, \"*\")], -1 /* HOISTED */);\nvar _hoisted_11 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"profile-views\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-user-circle\"\n})], -1 /* HOISTED */);\nvar _hoisted_12 = {\n  class: \"invalid-feedback\"\n};\nvar _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"emailshow text-danger\",\n  id: \"email\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_14 = {\n  class: \"form-group password-icon\"\n};\nvar _hoisted_15 = /*#__PURE__*/_createElementVNode(\"label\", null, [/*#__PURE__*/_createTextVNode(\"Senha \"), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"login-danger\"\n}, \"*\")], -1 /* HOISTED */);\nvar _hoisted_16 = {\n  class: \"invalid-feedback\"\n};\nvar _hoisted_17 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"emailshow text-danger\",\n  id: \"password\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_18 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"forgotpass\"\n}, [/*#__PURE__*/_createCommentVNode(\" <div class=\\\"remember-me\\\">\\n                      <a-checkbox v-model:checked=\\\"checked\\\" class=\\\"me-2 mb-0\\\">\\n                        Remember me</a-checkbox\\n                      >\\n                    </div>\\n                    <router-link to=\\\"forgot-password\\\"\\n                      >Forgot Password?</router-link\\n                    > \")], -1 /* HOISTED */);\nvar _hoisted_19 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-group\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-primary btn-block\"\n}, \"Login\")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Field = _resolveComponent(\"Field\");\n  var _component_Form = _resolveComponent(\"Form\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" Main Wrapper \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" <div class=\\\"login-left\\\">\\n              <img\\n                class=\\\"img-fluid\\\"\\n                src=\\\"../../../../assets/img/login.png\\\"\\n                alt=\\\"Logo\\\"\\n              />\\n            </div> \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _hoisted_8, _createCommentVNode(\" Form \"), _createVNode(_component_Form, {\n    class: \"login\",\n    onSubmit: $setup.onSubmit,\n    \"validation-schema\": $setup.schema\n  }, {\n    default: _withCtx(function (_ref) {\n      var errors = _ref.errors;\n      return [_createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createVNode(_component_Field, {\n        name: \"email\",\n        type: \"email\",\n        value: \"admin@example.com\",\n        class: _normalizeClass([\"form-control\", {\n          'is-invalid': errors.email\n        }])\n      }, null, 8 /* PROPS */, [\"class\"]), _hoisted_11, _createElementVNode(\"div\", _hoisted_12, _toDisplayString(errors.email), 1 /* TEXT */), _hoisted_13]), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, $data.showPassword ? (_openBlock(), _createBlock(_component_Field, {\n        key: 0,\n        name: \"password\",\n        type: \"text\",\n        value: \"123456\",\n        class: _normalizeClass([\"form-control pass-input\", {\n          'is-invalid': errors.password\n        }])\n      }, null, 8 /* PROPS */, [\"class\"])) : (_openBlock(), _createBlock(_component_Field, {\n        key: 1,\n        name: \"password\",\n        type: \"password\",\n        value: \"123456\",\n        class: _normalizeClass([\"form-control pass-input\", {\n          'is-invalid': errors.password\n        }])\n      }, null, 8 /* PROPS */, [\"class\"])), _createElementVNode(\"span\", {\n        onClick: _cache[0] || (_cache[0] = function () {\n          return $options.toggleShow && $options.toggleShow.apply($options, arguments);\n        }),\n        class: _normalizeClass([\"profile-views toggle-password\", {\n          'feather-eye': $data.showPassword,\n          'feather-eye-off': !$data.showPassword\n        }])\n      }, null, 2 /* CLASS */), _createElementVNode(\"div\", _hoisted_16, _toDisplayString(errors.password), 1 /* TEXT */), _hoisted_17]), _hoisted_18, _hoisted_19];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onSubmit\", \"validation-schema\"]), _createCommentVNode(\" /Form \")])])])])])]), _createCommentVNode(\" /Main Wrapper \")]);\n}","map":{"version":3,"mappings":";;EAGSA,KAAK,EAAC;AAAyB;;EAC7BA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAU;;EAQdA,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAkB;8BAC3BC,oBAAc,YAAV,OAAK;8BACTA,oBAAc,YAAV,OAAK;;EASFD,KAAK,EAAC;AAAY;+BACrBC,oBAA0D,8CAAnD,UAAQ,oCAAmC;EAA7BD,KAAK,EAAC;AAAc,GAAC,GAAC;+BAQ3CC,oBAEQ;EAFFD,KAAK,EAAC;AAAe,iBACxBC,oBACF;EADKD,KAAK,EAAC;AAAoB;;EAE3BA,KAAK,EAAC;AAAkB;+BAC7BC,oBAAoD;EAA/CD,KAAK,EAAC,uBAAuB;EAACE,EAAE,EAAC;;;EAEnCF,KAAK,EAAC;AAA0B;+BACnCC,oBAAwD,8CAAjD,QAAM,oCAAmC;EAA7BD,KAAK,EAAC;AAAc,GAAC,GAAC;;EAyBpCA,KAAK,EAAC;AAAkB;+BAC7BC,oBAAuD;EAAlDD,KAAK,EAAC,uBAAuB;EAACE,EAAE,EAAC;;+BAExCD,oBASM;EATDD,KAAK,EAAC;AAAY,iBACrBG,oXAOK;+BAEPF,oBAEM;EAFDD,KAAK,EAAC;AAAY,iBACrBC,oBAAwD;EAAhDD,KAAK,EAAC;AAA2B,GAAC,OAAK;;;;;uBAhFjEI,oBA2FM,cA1FJD,qCAAqB,EACrBF,oBAuFM,OAvFNI,UAuFM,GAtFJJ,oBAqFM,OArFNK,UAqFM,GApFJL,oBAmFM,OAnFNM,UAmFM,GAlFJN,oBAiFM,OAjFNO,UAiFM,GAhFJL,0OAMU,EACVF,oBAwEM,OAxENQ,UAwEM,GAvEJR,oBAsEM,OAtENS,UAsEM,GArEJC,UAAc,EACdC,UAAc,EAEdT,6BAAa,EACbU,aA+DOC;IA9DLd,KAAK,EAAC,OAAO;IACZe,QAAM,EAAEC,eAAQ;IAChB,mBAAiB,EAAEA;;sBAGpB;MAAA,IAFUC,MAAM,QAANA,MAAM;MAAA,QAEhBhB,oBAcM,OAdNiB,UAcM,GAbJC,WAA0D,EAC1DN,aAMEO;QALAC,IAAI,EAAC,OAAO;QACZC,IAAI,EAAC,OAAO;QACZC,KAAK,EAAC,mBAAmB;QACzBvB,KAAK,mBAAC,cAAc;UAAA,cACIiB,MAAM,CAACO;QAAK;0CAEtCC,WAEQ,EACRxB,oBAAsD,OAAtDyB,WAAsD,mBAArBT,MAAM,CAACO,KAAK,kBAC7CG,WAAoD,IAEtD1B,oBA4BM,OA5BN2B,WA4BM,GA3BJC,WAAwD,EAEhDC,kBAAY,kBADpBC,aAOEX;;QALAC,IAAI,EAAC,UAAU;QACfC,IAAI,EAAC,MAAM;QACXC,KAAK,EAAC,QAAQ;QACdvB,KAAK,mBAAC,yBAAyB;UAAA,cACPiB,MAAM,CAACe;QAAQ;2DAEzCD,aAOEX;;QALAC,IAAI,EAAC,UAAU;QACfC,IAAI,EAAC,UAAU;QACfC,KAAK,EAAC,QAAQ;QACdvB,KAAK,mBAAC,yBAAyB;UAAA,cACPiB,MAAM,CAACe;QAAQ;2CAEzC/B,oBAOQ;QANLgC,OAAK;UAAA,OAAEC,qEAAU;QAAA;QAClBlC,KAAK,mBAAC,+BAA+B;yBACY8B,kBAAY;8BAA8CA;;+BAK7G7B,oBAAyD,OAAzDkC,WAAyD,mBAAxBlB,MAAM,CAACe,QAAQ,kBAChDI,WAAuD,IAEzDC,WASM,EACNC,WAEM;;;wDAERnC,8BAAc,cAO1BA,sCAAsB","names":["class","_createElementVNode","id","_createCommentVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_createVNode","_component_Form","onSubmit","$setup","errors","_hoisted_9","_hoisted_10","_component_Field","name","type","value","email","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","$data","_createBlock","password","onClick","$options","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19"],"sourceRoot":"","sources":["/home/jesus-adson/projects/erp-front/src/modules/auth/views/login.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- Main Wrapper -->\n    <div class=\"main-wrapper login-body\">\n      <div class=\"login-wrapper\">\n        <div class=\"container\">\n          <div class=\"loginbox\">\n            <!-- <div class=\"login-left\">\n              <img\n                class=\"img-fluid\"\n                src=\"../../../../assets/img/login.png\"\n                alt=\"Logo\"\n              />\n            </div> -->\n            <div class=\"login-right\">\n              <div class=\"login-right-wrap\">\n                <h1>ATECH</h1>\n                <h2>Login</h2>\n\n                <!-- Form -->\n                <Form\n                  class=\"login\"\n                  @submit=\"onSubmit\"\n                  :validation-schema=\"schema\"\n                  v-slot=\"{ errors }\"\n                >\n                  <div class=\"form-group\">\n                    <label>Usuário <span class=\"login-danger\">*</span></label>\n                    <Field\n                      name=\"email\"\n                      type=\"email\"\n                      value=\"admin@example.com\"\n                      class=\"form-control\"\n                      :class=\"{ 'is-invalid': errors.email }\"\n                    />\n                    <span class=\"profile-views\"\n                      ><i class=\"fas fa-user-circle\"></i\n                    ></span>\n                    <div class=\"invalid-feedback\">{{ errors.email }}</div>\n                    <div class=\"emailshow text-danger\" id=\"email\"></div>\n                  </div>\n                  <div class=\"form-group password-icon\">\n                    <label>Senha <span class=\"login-danger\">*</span></label>\n                    <Field\n                      v-if=\"showPassword\"\n                      name=\"password\"\n                      type=\"text\"\n                      value=\"123456\"\n                      class=\"form-control pass-input\"\n                      :class=\"{ 'is-invalid': errors.password }\"\n                    />\n                    <Field\n                      v-else\n                      name=\"password\"\n                      type=\"password\"\n                      value=\"123456\"\n                      class=\"form-control pass-input\"\n                      :class=\"{ 'is-invalid': errors.password }\"\n                    />\n                    <span\n                      @click=\"toggleShow\"\n                      class=\"profile-views toggle-password\"\n                      :class=\"{\n                        'feather-eye': showPassword,\n                        'feather-eye-off': !showPassword,\n                      }\"\n                    ></span>\n                    <div class=\"invalid-feedback\">{{ errors.password }}</div>\n                    <div class=\"emailshow text-danger\" id=\"password\"></div>\n                  </div>\n                  <div class=\"forgotpass\">\n                    <!-- <div class=\"remember-me\">\n                      <a-checkbox v-model:checked=\"checked\" class=\"me-2 mb-0\">\n                        Remember me</a-checkbox\n                      >\n                    </div>\n                    <router-link to=\"forgot-password\"\n                      >Forgot Password?</router-link\n                    > -->\n                  </div>\n                  <div class=\"form-group\">\n                    <button class=\"btn btn-primary btn-block\">Login</button>\n                  </div>\n                </Form>\n                <!-- /Form -->\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- /Main Wrapper -->\n  </div>\n</template>\n<script>\nimport { ref } from 'vue';\nimport { router } from '@/router';\nimport { Form, Field } from 'vee-validate';\nimport * as Yup from 'yup';\nimport { login } from '../services';\n\nexport default {\n  components: {\n    Form,\n    Field,\n  },\n  data() {\n    return {\n      showPassword: false,\n      password: null,\n    };\n  },\n  computed: {\n    buttonLabel() {\n      return this.showPassword ? 'Hide' : 'Show';\n    },\n  },\n  methods: {\n    toggleShow() {\n      this.showPassword = !this.showPassword;\n    },\n  },\n  setup() {\n    let users = localStorage.getItem('storedData');\n    if (users === null) {\n      let password = [\n        {\n          email: 'admin@example.com',\n          password: '123456',\n        },\n      ];\n      const jsonData = JSON.stringify(password);\n      localStorage.setItem('storedData', jsonData);\n    }\n    const schema = Yup.object().shape({\n      email: Yup.string()\n        .required('Email is required')\n        .email('Email is invalid'),\n      password: Yup.string()\n        .min(6, 'Password must be at least 6 characters')\n        .required('Password is required'),\n    });\n    const onSubmit = async (values) => {\n      const { email, password } = values;\n      console.log(process.env);\n      const token = await login(values);\n\n      console.log(token);\n\n      document.getElementById('email').innerHTML = '';\n      document.getElementById('password').innerHTML = '';\n      let data = localStorage.getItem('storedData');\n      var Pdata = JSON.parse(data);\n      const Eresult = Pdata.find(({ email }) => email === values.email);\n      if (Eresult) {\n        if (Eresult.password === values.password) {\n          router.push('/index');\n        } else {\n          document.getElementById('password').innerHTML = 'Incorrect password';\n        }\n      } else {\n        document.getElementById('email').innerHTML = 'Email is not valid';\n      }\n    };\n    return {\n      schema,\n      onSubmit,\n      checked: ref(false),\n    };\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}